%求转换矩阵
clc;clear all;close all;
a = imread('image A.jpg');
b = imread('image B.jpg');
figure(1);
subplot(1,2,1);
imshow(a);
subplot(1,2,2);
imshow(b);
cpselect(a,b);



%配准过程
clc;clear all;close all;
a = imread('image A.jpg');
b = imread('image B.jpg');
A_mark = [2124.79268292683,1251.71951219512;2912.22682926829,1251.71951219512;1577.59268292683,1585.37804878049;970.334146341463,1672.12926829268;950.314634146341,2286.06097560976;1303.99268292683,1872.32439024390;2191.52439024390,2105.88536585366]
B_mark = [1915.25000000000,1079.39970059880;2678.29790419162,1285.79790419162;1296.05538922156,1260.77994011976;676.860778443114,1179.47155688623;507.989520958084,1761.13922155689;945.803892215569,1460.92365269461;1758.88772455090,1898.73802395210]
tform = fitgeotrans(A_mark,B_mark,'affine');
output = imwarp(a,tform);
figure(2);
subplot(1,2,1);
imshow(output);
subplot(1,2,2);
imshow(b);